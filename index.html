<!doctype html>
<html lang="cs" class="h-100">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Jana Kolaja Ehlerová, Michal Puchrík, Zora Krykorková, Kristián Jacik">
    <title>Líný robot &bullet; Noc vědců</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

    <!-- Custom styles for this template -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@700&family=Manrope:wght@200;300;400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./css/linyrobot.css">

</head>

<body class="d-flex flex-column h-100">

<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container justify-content-start">
            <a href="//www.fm.tul.cz" class="mr-auto" rel="external"><img src="assets/logo-fm-cmyk-cz.png" height="50 em" alt="Logo FM TUL"/></a>
            <a href="//www.tojeit.cz" rel="external"><img src="assets/tojeit.png" height="50 em" alt="Logo ToJeIt.cz"/></a>
            <a href="//www.nocvedcu.cz/organizace/technicka-univerzita-v-liberci" class="ml-3" rel="external"><img src="assets/nocvedcu-hero.svg" height="50 em" alt="Logo Noc vědců"/></a>
        </div>
    </nav>
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #ddd;">
        <div class="container justify-content-start">
            <span class="navbar-brand header-font">Aktuální úkol:</span>
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <span class="nav-link">Promíchej zkumavky</span>
                </li>
            </ul>
            <span class="navbar-text">Navbar text with an inline element</span>
        </div>
    </nav>
</header>

<!-- Begin page content -->
<main role="main">
    <img id="robot_head" src="assets/Robot_game/Robot_head.svg" alt="Avatar robota"/>
    <img id="map" src="assets/map.png" usemap="#image-map" alt="Mapa budovy"/>
    <map id="image-map" name="image-map">
        <area rel="tooltip" data-placement="top" id="a01081_architekt" alt="a01081_architekt" title="Ateliér architektury" coords="281,276,1785,997" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01025_domovnik" alt="a01025_domovnik" title="Dílna domovníka" coords="1299,1003,1995,1437" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01020_chemie" alt="a01020_chemie" title="Chemická laboratoř" coords="573,1013,1033,1550" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01014_strojovna" alt="a01014_strojovna" title="Strojovna" coords="573,1550,1033,1928" shape="rect">
        <area rel="tooltip" data-placement="top" id="schody_vchod" alt="schody_vchod" title="Schodiště" coords="803,2368,1274,2931" shape="rect">
        <area rel="tooltip" data-placement="top" id="wc" alt="wc" title="Toalety" coords="1304,1662,2005,1933" shape="rect">
        <area rel="tooltip" data-placement="top" id="uklid_1" alt="uklid_1" title="Úklidová místnost" coords="2031,1642,2348,1979" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01042_elektrotechnici_kancelar" alt="a01042_elektrotechnici_kancelar" title="Kancelář elektrotechniků" coords="1279,2179,1872,2829" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01043_elektrotechnici_kancelar" alt="a01043_elektrotechnici_kancelar" title="Kancelář elektrotechniků" coords="1882,2174,2261,2823" shape="rect">
        <area rel="tooltip" data-placement="top" id="schody_tk3" alt="schody_tk3" title="Robotická laboratoř" coords="2424,1627,2721,1995" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01039_tk3" alt="a01039_tk3" title="Učebna TK3" coords="2005,992,3043,1621" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01081_archiv" alt="a01081_archiv" title="Archiv" coords="2731,1637,3038,1985" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01044_administrativa_kancelar" alt="a01044_administrativa_kancelar" title="Kancelář administrativy" coords="2256,2179,2629,2818" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01047_prof_nosek_kancelar" alt="a01047_prof_nosek_kancelar" title="Kancelář prof. Noska" coords="3002,2179,3391,2823" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01048_vedouci_mti" alt="a01048_vedouci_mti" title="Vedoucí katedry MTI" coords="3401,2179,3785,2823" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01073_elektrotechnici_kancelar" alt="a01073_elektrotechnici_kancelar" title="Kancelář elektrotechniků" coords="3304,552,3304,1054,3765,1049,3765,808,3637,798,3632,552" shape="polygon">
        <area rel="tooltip" data-placement="top" id="a01075" alt="a01075" title="Místnost 01075" coords="3432,1228,3749,1550" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01076" alt="a01076" title="Místnost 01076" coords="3453,1570,3780,1985" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01072_elektrofyzici_kancelar" alt="a01072_elektrofyzici_kancelar" title="Kancelář elektrofyziků" coords="3642,353,4005,793" shape="rect">
        <area rel="tooltip" data-placement="top" id="uklid_2" alt="uklid_2" title="Úklidová místnost" coords="4926,358,5033,588" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01055_tk8" alt="a01055_tk8" title="Učebna TK8" coords="4517,793,4915,1248" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01077_knihovna_tk5" alt="a01077_knihovna_tk5" title="Knihovna TK5" coords="4025,1263,4496,1627" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01078_tk6" alt="a01078_tk6" title="Učebna TK6" coords="4020,1627,4496,2164" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01053_rozvodna" alt="a01053_rozvodna" title="Rozvodna" coords="4557,2020,4921,2174" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01053_ap11" alt="a01053_ap11" title="Učebna AP11" coords="5043,1437,5437,2179" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01051_ap12" alt="a01051_ap12" title="Posluchárna AP12" coords="4547,2174,5463,2839" shape="rect">
    </map>
    <!-- modal-xl modal-dialog-centered -->
    <div id="modal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
                </div>
                <div id="level-modal-body" class="modal-body"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</main>

<footer class="footer">
    <div class="container">
        <span class="text-muted">2020</span>
    </div>
</footer>

<template id="template_a01081_architekt">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01025_domovnik">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01020_chemie">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01014_strojovna">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_schody_vchod">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_wc">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_uklid_1">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01042_elektrotechnici_kancelar">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01043_elektrotechnici_kancelar">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_schody_tk3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01039_tk3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01081_archiv">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01044_administrativa_kancelar">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01047_prof_nosek_kancelar">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01048_vedouci_mti">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01073_elektrotechnici_kancelar">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01075">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01076">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01072_elektrofyzici_kancelar">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_uklid_2">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01055_tk8">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01077_knihovna_tk5">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01078_tk6">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01053_rozvodna">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01053_ap11">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<template id="template_a01051_ap12">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4">.col-md-4</div>
            <div class="col-md-4 ml-auto">.col-md-4 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-3 ml-auto">.col-md-3 .ml-auto</div>
            <div class="col-md-2 ml-auto">.col-md-2 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-md-6 ml-auto">.col-md-6 .ml-auto</div>
        </div>
        <div class="row">
            <div class="col-sm-9">
                Level 1: .col-sm-9
                <div class="row">
                    <div class="col-8 col-sm-6">
                        Level 2: .col-8 .col-sm-6
                    </div>
                    <div class="col-4 col-sm-6">
                        Level 2: .col-4 .col-sm-6
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="./js/jquery-3.5.1.js"><\/script>')</script>
<script type="text/javascript" src="./js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="./js/imageMapResizer.min.js"></script>
<script>
    /**
     * TODO:
     * Přidat časomíru, jak dlouho trvalo od začátku hru dohrát
     * Přidat animaci chůze
     * Přidat modaly s úlohami
     * Přidat uvítací modal
     * Cílová místnost musí být nejprve uzamčena! Cílová místnost: a01073_elektrotechnici_kancelar
     * Omezit volání jQuery
     */
    let currentRoom = "start",
        currentCoords = { //Relativně k výchozím hodnotám obrázku
            left: 1069,
            top: 2277
        },
        moving = false,
        lastModalWidth = null;
    const coords = {
            a01081_architekt: {
                id: 0,
                door: {left: 1150, top: 1089},
                room: {left: 1053, top: 711},
                hallway: {left: 1166, top: 1115},
                hasKey: false
            },
            a01025_domovnik: {
                id: 1,
                door: {left: 1283, top: 1150},
                room: {left: 1728, top: 1207},
                hallway: {left: 1166, top: 1212},
                hasKey: false
            },
            a01020_chemie: {
                id: 2,
                door: {left: 1033, top: 1452},
                room: {left: 701, top: 1396},
                hallway: {left: 1166, top: 1452},
                hasKey: false
            },
            a01014_strojovna: {
                id: 3,
                door: {left: 1033, top: 1646},
                room: {left: 803, top: 1790},
                hallway: {left: 1166, top: 1754},
                hasKey: false
            },
            schody_vchod: {
                id: 4,
                door: {left: 1181, top: 2209},
                room: {left: 1196, top: 2439},
                hallway: {left: 1166, top: 2080},
                hasKey: false
            },
            a01042_elektrotechnici_kancelar: {
                id: 5,
                door: {left: 1416, top: 2250},
                room: {left: 1560, top: 2454},
                hallway: {left: 1411, top: 2080},
                hasKey: false
            },
            wc: {
                id: 6,
                door: {left: 1902, top: 2040},
                room: {left: 1902, top: 2040},
                hallway: {left: 1917, top: 2080},
                hasKey: false
            },
            a01043_elektrotechnici_kancelar: {
                id: 7,
                door: {left: 1979, top: 2240},
                room: {left: 2050, top: 2454},
                hallway: {left: 1979, top: 2080},
                hasKey: false
            },
            uklid_1: {
                id: 8,
                door: {left: 2071, top: 1979},
                room: {left: 2076, top: 1810},
                hallway: {left: 2076, top: 2080},
                hasKey: false
            },
            a01044_administrativa_kancelar: {
                id: 9,
                door: {left: 2373, top: 2275},
                room: {left: 2408, top: 2444},
                hallway: {left: 2367, top: 2080},
                hasKey: false
            },
            a01039_tk3: {
                id: 10,
                door: {left: 2398, top: 1708},
                room: {left: 2311, top: 1222},
                hallway: {left: 2398, top: 2080},
                hasKey: false
            },
            schody_tk3: {
                id: 11,
                door: {left: 2408, top: 1882},
                room: {left: 2424, top: 1795},
                hallway: {left: 2413, top: 2080},
                hasKey: false
            },
            a01081_archiv: {
                id: 12,
                door: {left: 2925, top: 1969},
                room: {left: 2874, top: 1805},
                hallway: {left: 2915, top: 2080},
                hasKey: false
            },
            a01047_prof_nosek_kancelar: {
                id: 13,
                door: {left: 3308, top: 2265},
                room: {left: 3170, top: 2500},
                hallway: {left: 3303, top: 2080},
                hasKey: false
            },
            a01076: {
                id: 14,
                door: {left: 3620, top: 1969},
                room: {left: 3620, top: 1969},
                hallway: {left: 3610, top: 2080},
                hasKey: false
            },
            a01048_vedouci_mti: {
                id: 15,
                door: {left: 3651, top: 2275},
                room: {left: 3605, top: 2475},
                hallway: {left: 3661, top: 2080},
                hasKey: false
            },
            a01078_tk6: {
                id: 16,
                door: {left: 4009, top: 1974},
                room: {left: 4285, top: 1948},
                hallway: {left: 3880, top: 2081},
                hasKey: false
            },
            a01077_knihovna_tk5: {
                id: 17,
                door: {left: 4004, top: 1483},
                room: {left: 4167, top: 1508},
                hallway: {left: 3880, top: 1488},
                hasKey: false
            },
            a01075: {
                id: 18,
                door: {left: 3753, top: 1406},
                room: {left: 3753, top: 1406},
                hallway: {left: 3880, top: 1386},
                hasKey: false
            },
            a01073_elektrotechnici_kancelar: {
                id: 19,
                door: {left: 3768, top: 890},
                room: {left: 3462, top: 951},
                hallway: {left: 3880, top: 920},
                hasKey: false,
                locked: true
            },
            a01072_elektrofyzici_kancelar: {
                id: 20,
                door: {left: 3845, top: 762},
                room: {left: 3799, top: 588},
                hallway: {left: 3880, top: 808},
                hasKey: false
            },
            uklid_2: {
                id: 21,
                door: {left: 4975, top: 573},
                room: {left: 4980, top: 435},
                hallway: {left: 4975, top: 675},
                hasKey: false
            },
            a01055_tk8: {
                id: 22,
                door: {left: 4904, top: 1099},
                room: {left: 4745, top: 1038},
                hallway: {left: 4975, top: 1104},
                hasKey: false
            },
            a01053_ap11: {
                id: 23,
                door: {left: 5036, top: 1590},
                room: {left: 5108, top: 1754},
                hallway: {left: 4975, top: 1580},
                hasKey: false
            },
            a01053_rozvodna: {
                id: 24,
                door: {left: 4914, top: 2071},
                room: {left: 4694, top: 2091},
                hallway: {left: 4975, top: 2061},
                hasKey: false
            },
            a01051_ap12: {
                id: 25,
                door: {left: 4970, top: 2270},
                room: {left: 5082, top: 2490},
                hallway: {left: 4975, top: 2137},
                hasKey: false
            }
        },
        coordsArray = Object.entries(coords),
        possibleKeys = [0, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 15, 17, 18, 19, 20, 21, 22, 23, 24, 25];

        changeProperties = () => {
            $('map').imageMapResize();

            //První dva koordináty jsou vzdálenost zleva a vzdálenost shora
            let originalHeight = $('#map')[0].naturalHeight,
                originalWidth = $('#map')[0].naturalWidth,
                currentHeight = $('#map').height(),
                currentWidth = $('#map').width(),
                imageTop = $('#map').offset().top,
                imageLeft = $('#map').offset().left,
                robotHeight = $('#robot_head').height(),
                robotWidth = $('#robot_head').width(),
                scale = {
                    width: currentWidth / originalWidth,
                    height: currentHeight / originalHeight
                };

            console.log("Resize: Set coords to", currentCoords)

            // Nejprve nastavit šířku robota, potom jeho koordináty
            $('#robot_head').css({
                width: (scale.width * 300) + "px",
                left: imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2) + "px",
                top: imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2) + "px"
            });

        },
        roomClick = (id) => {
            if (moving) return;
            let originalHeight = $('#map')[0].naturalHeight,
                originalWidth = $('#map')[0].naturalWidth,
                currentHeight = $('#map').height(),
                currentWidth = $('#map').width(),
                imageTop = $('#map').offset().top,
                imageLeft = $('#map').offset().left,
                // robotHeight = $('#robot_head').height(),
                // robotWidth = $('#robot_head').width(),
                scale = {
                    width: currentWidth / originalWidth,
                    height: currentHeight / originalHeight
                };

            moving = true;
            if (currentRoom === "start") { //Hráč je na startu, je potřeba ho dostat do nové místnosti
                //console.log("currentCords", currentCoords, "Moving to", "schody_vchod", "hallway", coords.schody_vchod.hallway);
                moveHead(
                    imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                    imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                    imageLeft + (coords.schody_vchod.hallway.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                    imageTop + (coords.schody_vchod.hallway.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                ).then(() => {
                    console.log("Moved to hallway, moving to hallway to correct room");
                    currentRoom = "schody_vchod";
                    currentCoords = coords.schody_vchod.hallway;
                    moveToDesignatedHallway(coords[currentRoom].id, coords[id].id).then(() => {
                        console.log("Moved to hallway to correct room, moving to door");
                        currentCoords = coords[id].hallway;
                        moveHead(
                            imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                            imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                            imageLeft + (coords[id].door.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                            imageTop + (coords[id].door.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                        ).then(() => {
                            console.log("Moved to door, moving to room");
                            currentCoords = coords[id].door;
                            if (id === "a01073_elektrotechnici_kancelar" && coords.a01073_elektrotechnici_kancelar.locked) { //Pokud je místnost uzamčena
                                alert("Místnost je uzamčena, musíš nejprve najít klíč");
                                console.log("Room is locked");
                                currentRoom = id;
                                moving = false;
                            } else {
                                moveHead(
                                    imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                                    imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                                    imageLeft + (coords[id].room.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                                    imageTop + (coords[id].room.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                                ).then(() => {
                                    console.log("Moved to room");
                                    currentCoords = coords[id].room;
                                    currentRoom = id;
                                    moving = false;
                                    showModal(id);
                                });
                            }
                        });
                    });
                });
            } else {
                if (coords[currentRoom].id === coords[id].id) {
                    alert("Jsi ve stejné místnosti"); //Předělat na toast
                    moving = false;
                } else {
                    console.log("Moving to door");
                    moveHead(
                        imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                        imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                        imageLeft + (coords[currentRoom].door.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                        imageTop + (coords[currentRoom].door.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                    ).then(() => {
                        console.log("Moved to door, moving to hallway");
                        currentCoords = coords[currentRoom].door;
                        moveHead(
                            imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                            imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                            imageLeft + (coords[currentRoom].hallway.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                            imageTop + (coords[currentRoom].hallway.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                        ).then(() => {
                            console.log("Moved to hallway, moving to hallway to correct room");
                            currentCoords = coords[currentRoom].hallway;
                            moveToDesignatedHallway(coords[currentRoom].id, coords[id].id).then(() => {
                                console.log("Moved to hallway to correct room, moving to door");
                                currentCoords = coords[id].hallway;
                                moveHead(
                                    imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                                    imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                                    imageLeft + (coords[id].door.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                                    imageTop + (coords[id].door.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                                ).then(() => {
                                    console.log("Moved to door, moving to room");
                                    currentCoords = coords[id].door;
                                    if (id === "a01073_elektrotechnici_kancelar" && coords.a01073_elektrotechnici_kancelar.locked) { //Pokud je místnost uzamčena
                                        alert("Místnost je uzamčena, musíš nejprve najít klíč");
                                        console.log("Room is locked");
                                        currentRoom = id;
                                        moving = false;
                                    } else {
                                        moveHead(
                                            imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                                            imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                                            imageLeft + (coords[id].room.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                                            imageTop + (coords[id].room.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                                        ).then(() => {
                                            console.log("Moved to room");
                                            currentCoords = coords[id].room;
                                            currentRoom = id;
                                            moving = false;
                                            showModal(id);
                                        });
                                    }
                                });
                            });
                        });
                    });
                }
            }
        },
        showModal = (id) => {
            //console.log($('#modal .modal-dialog')[0].offsetWidth / 2);
            let clone = document.getElementById('template_' + id).content.cloneNode(true);
            $('#level-modal-body').empty();
            $('#level-modal-body').append(clone);

            //$('#modal').css({left: 'calc(50vw - ' + ($('#modal .modal-dialog')[0].offsetWidth / 2) + 'px)'});
            $('#modal').modal('show');
            /*setTimeout(() => {
                $('#modal').css({left: 'calc(50vw - ' + ($('#modal .modal-dialog')[0].offsetWidth / 2) + 'px)'});
                console.log("   reset", $('#modal .modal-dialog')[0].offsetWidth / 2);
            }, 200);*/
            /*$('#modal').on('hidden.bs.modal', function (e) {
                $('#modal').css({left: 'calc(50vw - ' + ($('#modal .modal-dialog')[0].offsetWidth / 2) + 'px)'})
            });*/
            //setTimeout(() => {console.log($('#modal .modal-dialog')[0].offsetWidth / 2)}, 1000);
            // $('.modal').css({opacity: '0'});
            //if (lastModalWidth === null) lastModalWidth = $('#modal .modal-dialog')[0].offsetWidth / 2;
            //$('.modal').css({left: 'calc(50vw - ' + $('#modal .modal-dialog')[0].offsetWidth / 2 + 'px)'});
            //setTimeout(() => {lastModalWidth = $('#modal .modal-dialog')[0].offsetWidth / 2}, 2000);
        },
        moveToDesignatedHallway = (currentID, designatedID) => {
            return new Promise((resolve, reject) => {
                let originalHeight = $('#map')[0].naturalHeight,
                    originalWidth = $('#map')[0].naturalWidth,
                    currentHeight = $('#map').height(),
                    currentWidth = $('#map').width(),
                    imageTop = $('#map').offset().top,
                    imageLeft = $('#map').offset().left,
                    robotHeight = $('#robot_head').height(),
                    robotWidth = $('#robot_head').width(),
                    scale = {
                        width: currentWidth / originalWidth,
                        height: currentHeight / originalHeight
                    };

                if (currentID === designatedID) {
                    resolve(true);
                } else if (currentID < designatedID) { //Pokud je ID nové místnosti větší, jak ID původní místnosti
                    //Půjdeš postupně po chodbě do místnosti s vyšším ID
                    console.log("current", currentID, "designated", designatedID);
                    moveHead(
                        imageLeft + (coordsArray[currentID][1].hallway.left * scale.width) - (robotWidth / 2), //oldleft
                        imageTop + (coordsArray[currentID][1].hallway.top * scale.height) - (robotHeight / 2), //oldtop
                        imageLeft + (coordsArray[currentID + 1][1].hallway.left * scale.width) - (robotWidth / 2), //newleft
                        imageTop + (coordsArray[currentID + 1][1].hallway.top * scale.height) - (robotHeight / 2) //oldtop
                    ).then(() => {
                        currentCoords = coordsArray[currentID + 1][1].hallway;
                        moveToDesignatedHallway(currentID + 1, designatedID).then(() => resolve(true));
                    });
                } else { //Jinak, pokud je ID nové místností nižší jak ID původní místnosti
                    //Půjdeš postupně po chodbě do místnosti s nižším ID
                    console.log("current", currentID, "designated", designatedID);
                    moveHead(
                        imageLeft + (coordsArray[currentID][1].hallway.left * scale.width) - (robotWidth / 2), //oldleft
                        imageTop + (coordsArray[currentID][1].hallway.top * scale.height) - (robotHeight / 2), //oldtop
                        imageLeft + (coordsArray[currentID - 1][1].hallway.left * scale.width) - (robotWidth / 2), //newleft
                        imageTop + (coordsArray[currentID - 1][1].hallway.top * scale.height) - (robotHeight / 2) //oldtop
                    ).then(() => {
                        currentCoords = coordsArray[currentID - 1][1].hallway;
                        moveToDesignatedHallway(currentID - 1, designatedID).then(() => resolve(true));
                    });
                }
            });
        },
        moveHead = (oldLeft, oldTop, newLeft, newTop) => {
            return new Promise((resolve, reject) => {
                const elem = document.getElementById("robot_head");
                let posLeft = oldLeft,
                    posTop = oldTop,
                    id = setInterval(manipulate, 5);

                function manipulate() {
                    if (oldLeft < newLeft && Math.abs(newLeft - posLeft) >= 1) {
                        //console.log("moved left");
                        posLeft++;
                        elem.style.left = posLeft + "px";
                    } else if (oldLeft > newLeft && Math.abs(newLeft - posLeft) >= 1) {
                        //console.log("moved right");
                        posLeft--;
                        elem.style.left = posLeft + "px";
                    } else {
                        //console.log("set final left");
                        posLeft = newLeft;
                        elem.style.left = posLeft + "px";
                    }

                    if (oldTop < newTop && Math.abs(newTop - posTop) >= 1) {
                        //console.log("moved top");
                        posTop++;
                        elem.style.top = posTop + "px";
                    } else if (oldTop > newTop && Math.abs(newTop - posTop) >= 1) {
                        //console.log("moved down");
                        posTop--;
                        elem.style.top = posTop + "px";
                    } else {
                        //console.log("set final top");
                        posTop = newTop;
                        elem.style.top = posTop + "px";
                    }

                    if (posLeft === newLeft && posTop === newTop) {
                        clearInterval(id);
                        resolve(true);
                    }
                }
            });
        };

    window.addEventListener('resize', changeProperties);
    window.addEventListener('load', changeProperties);
    window.addEventListener('mousemove', e => {
        let tooltip = $("div[id^='tooltip']");
        if (tooltip.length > 0) {
            tooltip.css({left: e.pageX, top: e.pageY, transform: "translate3d(-" + tooltip[0].firstChild.style.left +", -50px, 0px)", "pointer-events": "none"});
        }
    });

    document.getElementById('image-map').addEventListener('click', (event) => {
        const isButton = event.target.nodeName === 'AREA';
        if (!isButton) return;
        roomClick(event.target.id);
    });

    //Při načtení dokumentu
    document.addEventListener('DOMContentLoaded', () => {
        window.setTimeout(changeProperties, 50);
        $('[rel="tooltip"]').tooltip();
        $('[data-toggle="tooltip"]').tooltip({trigger: "hover"});
    });

    //Vygenerování náhodné pozice klíče
    coords[coordsArray[Math.floor(Math.random() * possibleKeys.length)][0]].hasKey = true;

    console.log("Added events");


</script>

</body>
</html>
