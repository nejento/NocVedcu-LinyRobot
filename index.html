<!doctype html>
<html lang="cs" class="h-100">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Jana Kolaja Ehlerová, Michal Puchrík, Zora Krykorková, Kristián Jacik">
    <title>Líný robot &bullet; Noc vědců</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

    <!-- Custom styles for this template -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@500;700&family=Manrope:wght@200;300;400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./css/linyrobot.css">
    <script src="js/confetti.min.js"></script>

</head>

<body class="d-flex flex-column h-100">

<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container justify-content-start">
            <a href="//www.fm.tul.cz" class="mr-auto" rel="external"><img src="assets/logo-fm-cmyk-cz.png" height="50 em" alt="Logo FM TUL"/></a>
            <a href="//www.tojeit.cz" rel="external"><img src="assets/tojeit.png" height="50 em" alt="Logo ToJeIt.cz"/></a>
            <a href="//www.nocvedcu.cz/organizace/technicka-univerzita-v-liberci" class="ml-3" rel="external"><img src="assets/nocvedcu-hero.svg" height="50 em" alt="Logo Noc vědců"/></a>
        </div>
    </nav>
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #ddd;">
        <div class="container justify-content-start">
            <span class="navbar-brand header-font">Aktuální úkol:</span>
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <span id="task" class="nav-link">Najdi místo k odpočinku</span>
                </li>
            </ul>
            <span class="navbar-brand header-font">Ztracených dnů:</span>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <span id="time" class="nav-link">0</span>
                </li>
            </ul>
        </div>
    </nav>
</header>

<!-- Begin page content -->
<main role="main">
    <img id="robot_head" src="assets/robot_game/robot_head.svg" alt="Avatar robota"/>
    <img id="map" src="assets/map.png" usemap="#image-map" alt="Mapa budovy"/>
    <map id="image-map" name="image-map">
        <area rel="tooltip" data-placement="top" id="a01081_architekt" alt="a01081_architekt" title="Ateliér architektury" coords="281,276,1785,997" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01025_domovnik" alt="a01025_domovnik" title="Dílna domovníka" coords="1299,1003,1995,1437" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01020_chemie" alt="a01020_chemie" title="Chemická laboratoř" coords="573,1013,1033,1550" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01014_strojovna" alt="a01014_strojovna" title="Strojovna" coords="573,1550,1033,1928" shape="rect">
        <area rel="tooltip" data-placement="top" id="schody_vchod" alt="schody_vchod" title="Schodiště" coords="803,2368,1274,2931" shape="rect">
        <area rel="tooltip" data-placement="top" id="wc" alt="wc" title="Toalety" coords="1304,1662,2005,1933" shape="rect">
        <area rel="tooltip" data-placement="top" id="uklid_1" alt="uklid_1" title="Úklidová místnost" coords="2031,1642,2348,1979" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01042_elektrotechnici_kancelar" alt="a01042_elektrotechnici_kancelar" title="Kancelář elektrotechniků" coords="1279,2179,1872,2829" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01043_elektrotechnici_kancelar" alt="a01043_elektrotechnici_kancelar" title="Kancelář elektrotechniků" coords="1882,2174,2261,2823" shape="rect">
        <area rel="tooltip" data-placement="top" id="schody_tk3" alt="schody_tk3" title="Robotická laboratoř" coords="2424,1627,2721,1995" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01039_tk3" alt="a01039_tk3" title="Učebna TK3" coords="2005,992,3043,1621" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01081_archiv" alt="a01081_archiv" title="Archiv" coords="2731,1637,3038,1985" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01044_administrativa_kancelar" alt="a01044_administrativa_kancelar" title="Kancelář administrativy" coords="2256,2179,2629,2818" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01047_prof_nosek_kancelar" alt="a01047_prof_nosek_kancelar" title="Kancelář prof. Noska" coords="3002,2179,3391,2823" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01048_vedouci_mti" alt="a01048_vedouci_mti" title="Vedoucí katedry MTI" coords="3401,2179,3785,2823" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01073_elektrotechnici_kancelar" alt="a01073_elektrotechnici_kancelar" title="Kancelář elektrotechniků" coords="3304,552,3304,1054,3765,1049,3765,808,3637,798,3632,552" shape="polygon">
        <area rel="tooltip" data-placement="top" id="a01075" alt="a01075" title="Místnost 01075" coords="3432,1228,3749,1550" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01076" alt="a01076" title="Místnost 01076" coords="3453,1570,3780,1985" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01072_elektrofyzici_kancelar" alt="a01072_elektrofyzici_kancelar" title="Kancelář elektrofyziků" coords="3642,353,4005,793" shape="rect">
        <area rel="tooltip" data-placement="top" id="uklid_2" alt="uklid_2" title="Úklidová místnost" coords="4926,358,5033,588" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01055_tk8" alt="a01055_tk8" title="Učebna TK8" coords="4517,793,4915,1248" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01077_knihovna_tk5" alt="a01077_knihovna_tk5" title="Knihovna TK5" coords="4025,1263,4496,1627" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01078_tk6" alt="a01078_tk6" title="Učebna TK6" coords="4020,1627,4496,2164" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01053_rozvodna" alt="a01053_rozvodna" title="Rozvodna" coords="4557,2020,4921,2174" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01053_ap11" alt="a01053_ap11" title="Učebna AP11" coords="5043,1437,5437,2179" shape="rect">
        <area rel="tooltip" data-placement="top" id="a01051_ap12" alt="a01051_ap12" title="Posluchárna AP12" coords="4547,2174,5463,2839" shape="rect">
    </map>
    <!-- modal-xl modal-dialog-centered -->
    <div id="modal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div id="level-modal-content" class="modal-content"></div>
        </div>
    </div>

</main>

<footer class="footer">
    <div class="container">
        <span class="text-muted">2020</span>
    </div>
</footer>

<template id="template_a01081_architekt">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Ateliér architektury</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>A hele, robot. Paráda! Dá se do tebe zapojit fleška, <br>že jo?</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Dá. Ale proč bys to dělal?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Potřebuju vyrenderovat model budovy a ten počítač co tu máme je pomalej zasekanej krám.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>A já jsem zase hrozně línej. To vyjde nastejno.</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Ale nekecej. Za pokus to stojí!</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01081_architekt/architekt.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01081_architekt_outcome">Vyrenderovat</button>
    </div>
</template>
<template id="template_a01081_architekt_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Ateliér architektury</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Dřív, než stačil líný robot namítnout něco dalšího, už měl v hlavě zapojený flash disk.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01081_architekt/robot_renderuje.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Vždyť je to nějaká divná kříženina Eifellovky a Ještědu! Tohle tady ti architekti vymýšlí? Kdyby raději nedělali nic, tak, jako se o to snažím já…”</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_a01025_domovnik">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Dílna domovníka</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>Mám pro tebe parádní úkol, robote!</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>A jéje.</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Nějaký trouba mi tady sesypal všechny šrouby do jedné krabice. Potřeboval bych je roztřídit podle velikosti.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>No, moc se mi do toho nechce. Ale použiju na to algoritmus Quicksort a bude to hned.</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>No tak paráda! Tak se do toho dej.</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01025_domovnik/domovnik.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01025_domovnik_outcome">Vytřídit šrouby</button>
    </div>
</template>
<template id="template_a01025_domovnik_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Dílna domovníka</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot vzápětí ke své nelibosti zjistil, že algoritmy pro třídění dat nejsou tak úplně aplikovatelné na fyzické objekty reálného světa. A na protest již bylo pozdě.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01025_domovnik/robot_tridi_srouby.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>To mám za to, že jsem souhlasil, že mu pomůžu. Měl jsem ho rovnou někam poslat…</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_a01020_chemie">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Chemická laboratoř</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>Robote, jdeš jako na zavolanou. Zasekla se nám třepačka a máme tady sadu vzorků co potřebují pořádně promíchat.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Nebylo by jednodušší sehnat jinou třepačku?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Tohle byla poslední třepačka co máme, tu druhou rozbil včera student, který ji dal do mikrovlnky, aby mu během ohřevu míchala oběd…</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p><i>*povzdech*</i></p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01020_chemie/chemik_zena.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01020_chemie_outcome">Protřepat vzorky</button>
    </div>
</template>
<template id="template_a01020_chemie_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Chemická laboratoř</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot se neochotně dal do protřepávání vzorků. A brzy zjistil, že „sada vzorků“ znamená něco jako „mnohem víc vzorků, než byste chtěli“.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01020_chemie/robot_trepe.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Bych to nechal za trest dělat toho troubu co rozbil tu třepačku. Proč to vždycky odneseme my, roboti?</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>2</strong> dny času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="4000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_a01014_strojovna">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Strojovna TUV</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>Robote, potřeboval bych pomoct narovnat tyhle trubky.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Copak jsem Bender?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Vím, že nejsi. Však on ale věci ohýbal, ty je budeš narovnávat, takže problém s tím nevidím.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Ach jo…</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01014_strojovna/definitely_not_borek_stavitel.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01014_strojovna_outcome">Narovnat trubky</button>
    </div>
</template>
<template id="template_a01014_strojovna_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Strojovna TUV</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot se, ačkoliv nerad, dal do narovnávání trubek. Šlo to docela ztuha.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01014_strojovna/robot_ohyba_trubky.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Vždyť je to jedno jestli se ohýbají nebo narovnávají, námaha je to stejná! Ach, ty lidi…</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_schody_vchod">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Schodiště</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right robot">
                        <p>Snad nechceš jít na Ústav nových technologií?</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Chci se tam nechat pozorovat. Jak spím.</p>
                    </div>
                    <div class="speech-bubble right robot">
                        <p>Bacha, kamaráde, tam se s roboty dějí věci. Byl tam někdo s matematickým modelem a pak ti, co ho pochopili, už nikdy nepřišli.</p>
                    </div>
                </div>
                <div class="col">
                    <img class="flip" src="./assets/robot_game/schody_vchod/robot_u_schodu.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="schody_vchod_outcome">Utéct</button>
    </div>
</template>
<template id="template_schody_vchod_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Schodiště</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot urychleně zařadil zpátečku.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="assets/robot_game/robot_utika.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Kdo ví, co by se tam se mnou stalo! Ale pokoj by mi tam určitě nedali!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-info text-center" role="alert">
                    Neztrácíte <strong>žádný</strong> čas
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_wc">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Toalety</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Hmm, „WC“. Vtipná zkratka. Snad tam bude klid.</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/wc/dvere_wc.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="wc_outcome">Navštívit</button>
    </div>
</template>
<template id="template_wc_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Toalety</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Robot otevřel dveře a to co za nimi uviděl ho přimělo se rychle otočit k odchodu.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="assets/robot_game/robot_utika.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Myslím, že moje databáze by se bez takhle detailních informací o lidském vylučování obešla!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-info text-center" role="alert">
                    Neztrácíte <strong>žádný</strong> čas
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Utéct</button>
    </div>
</template>
<template id="template_uklid_1">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Úklidová místnost</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>Už zase je potřeba vytřít chodbu a vyluxovat!</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>No… tak to udělejte, vždyť jste uklízečka…?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>A ty jsi stroj. A k čemu jsou stroje?</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Ale ne…</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Přece k tomu, aby usnadnili lidem práci. Tak neodmlouvej a šup šup!</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/uklid/uklizecka.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="uklid_1_outcome">Uklidit</button>
    </div>
</template>
<template id="template_uklid_1_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Úklidová místnost</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot velmi neochotně přepnul na svůj úklidový režim a začal uklízet chodbu.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/uklid/robot_uklizi.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Hmpf… prej usnadnit práci… dřít tady za ně, to chtějí abych dělal!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>0,5</strong> dne času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="1000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_a01042_elektrotechnici_kancelar">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Proč se na mě díváte tak zahloubaně?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Nezdá se mi styl tvojí chůze. Je taková moc kolébavá. Myslím, že potřebuješ zkalibrovat gyroskop.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Nesmysl! Chodím úplně normálně, vždyť jsem zvládnul dojít sem. Co chcete dělat s tím šroubovákem? …</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01042_elektrotechnici_kancelar/elektrotechnik.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01042_elektrotechnici_kancelar_outcome">…</button>
    </div>
</template>
<template id="template_a01042_elektrotechnici_kancelar_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Boční kryt byl vzápětí dole. A elektrotechnik se pustil do práce. Nepříjemná to zkušenost.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01042_elektrotechnici_kancelar/robot_je_kalibrovan.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Taky nesnášíte ten pocit, když se vám někdo vrtá něčím dlouhým a ostrým v hlavě?</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>2</strong> dny času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="4000" data-dismiss="modal">Vrátit se na misi</button>
    </div>
</template>
<template id="template_a01043_elektrotechnici_kancelar">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Haló? Je tam někdo?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Zkuste poznat, jestli jsem robot, když mě nevidíte!</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Jsem robot!</p>
                    </div>
                    <div class="speech-bubble right">
                        <p> Špatně, jsem člověk! Počkat … sakra, to jsem neměl prozradit.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>…</p>
                    </div>
                </div>
                <div class="col">
                    <img src="assets/robot_game/dvere.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01043_elektrotechnici_kancelar_outcome">Zprocesovat</button>
    </div>
</template>
<template id="template_a01043_elektrotechnici_kancelar_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Robot nechápal, co se právě stalo.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01043_elektrotechnici_kancelar/robot_je_zmateny.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Ti lidé jsou občas vážně divný druh…</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-info text-center" role="alert">
                    Neztrácíte <strong>žádný</strong> čas
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Vrátit se na misi</button>
    </div>
</template>
<template id="template_schody_tk3">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Schody k robotické laboratoři</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Co se to píše tady na té ceduli?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p><strong>ZDE JE ROBOTICKÁ LABORATOŘ</strong></p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p><strong>Aah!</strong></p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/schody_tk3/cedule_roboticka_laborator.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="schody_tk3_outcome">Zpanikařit</button>
    </div>
</template>
<template id="template_schody_tk3_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Schody k robotické laboratoři</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Robot se dal na útěk. Ty hrůzy co si představil byly nepopsatelné.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="assets/robot_game/robot_utika.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Pomoc, pokusy na robotech! Jak je možné, že je tohle v 21. století ještě legální?!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-info text-center" role="alert">
                    Neztrácíte <strong>žádný</strong> čas
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Utéct</button>
    </div>
</template>
<template id="template_a01039_tk3">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Učebna TK3</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="speech-bubble bottom robot">
                    <p>Jé hele, vláčky. Na to bych se mohl dívat do nekonečna…</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01039_tk3/robot_u_modelu_zeleznice.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>2</strong> dny času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="4000" data-dismiss="modal">Dokochat se vláčky</button>
    </div>
</template>
<template id="template_a01081_archiv">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Archiv</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Hmm, archiv. Jsou tu staré diplomky. Tohle zní zajímavě: „Efektivita robotických nástrojů“.</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01081_archiv/knihovna_s_diplomkami.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01081_archiv_outcome">Přečíst diplomovou práci</button>
    </div>
</template>
<template id="template_a01081_archiv_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Archiv</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Robot se začetl, po chvíli však znechuceně diplomku odhodil.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01081_archiv/robot_cte_diplomku.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>To je ale nechutné. Ti lidé jsou vážně sadisti. A ještě mu za tohle dali titul!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Zavřít diplomovou práci</button>
    </div>
</template>
<template id="template_a01044_administrativa_kancelar">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář administrativní práce</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>Zdravím tě, robote. Mám tady krabici starých dokumentů, potřebuji, abys je skartoval.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>To jako vážně? Jsem mnohem vyspělejší a chytřejší stroj než nějaká skartovačka. Vážně mám dělat tohle?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Jo, chytrý rozhodně jsi. Jako rádio. Tak už neodmlouvej a dej se do toho.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Ach jo…</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01044_administrativa_kancelar/urednice.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01044_administrativa_kancelar_outcome">Skartovat</button>
    </div>
</template>
<template id="template_a01044_administrativa_kancelar_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář administrativní práce</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot začal skartovat dokumentaci. Kdyby šlo o pár listů, bylo by to hotové raz dva, ale byla toho celá bedna.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01044_administrativa_kancelar/robot_skartuje.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Mohli to spálit, dát sežrat psovi, rozpustit v kyselině u tý chemikářky o pár dveří dál, nebo to dát na záchod místo toaletního papíru… ale ne, oni s tím musejí otravovat mě.</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_a01047_prof_nosek_kancelar">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář prof. Jaroslava Noska</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>No výborně, mám tu exemplář!</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>O vás jsem slyšel… nejste vy profesor Nosek? Ten co se zabývá roboty co místo chůze balancují na jednom kole?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Ano, to jsem já. Takže určitě tušíš, co tě čeká.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Ale ne…</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01047_prof_nosek_kancelar/prof_nosek.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01047_prof_nosek_kancelar_outcome">Balancovat</button>
    </div>
</template>
<template id="template_a01047_prof_nosek_kancelar_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář prof. Jaroslava Noska</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Profesor posadil robota na jednokolku: „Ukaž, jak ti to půjde, chlapče!“. Robot měl co dělat, aby sebou okamžitě nesekl o zem.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01047_prof_nosek_kancelar/robot_na_jednokolce.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Takový hloupý nápad! V čem je tohle lepší než chůze? Já se snad zabiju!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_a01048_vedouci_mti">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Vedoucí katedry MTI</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>No vida, tady je konečně docela klid. Uvelebím se támhle v koutě vedle té plechové bedny…</p>
                    </div>
                </div>
                <div class="col">
                    <img class="img-fluid" src="./assets/robot_game/a01048_vedouci_mti/zdroj_v_koute.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01048_vedouci_mti_outcome">Uvelebit se</button>
    </div>
</template>
<template id="template_a01048_vedouci_mti_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Vedoucí katedry MTI</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Ona „plechová bedna“ byl ve skutečnosti zdroj, který někdo velmi chytře zapomněl vypnout a vypojit z něj kabel. Jakmile na něj robot šlápnul, spojil se obvod a robot na vlastní kastli pocítil, jaké to je „dostat dvě stě dvacet.“</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01048_vedouci_mti/robot_je_zkratovan_zdrojem.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>2</strong> dny času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="4000" data-dismiss="modal">Vrátit se na misi</button>
    </div>
</template>
<template id="template_a01073_elektrotechnici_kancelar_final">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center congrats">Dokázali jste to!</strong></p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01073_elektrotechnici_kancelar/cilova_mistnost.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-center lead"><strong>Robot otevřel dveře a přivítal ho magický pohled. Všude spící roboti, klid a žádní otravní lidé, kteří by ho zahrnovali nesmyslnými úkoly. Líný robot se uvelebil u stěny na prázdném místě a konečně si mohl pořádně odpočinout.</strong></p>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Zobrazit výsledky</button>
    </div>
</template>             <!-- Odemčená místnost -->
<template id="template_a01073_elektrotechnici_kancelar_nokey">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Kancelář elektrotechniků? Slyšel jsem, že by se sem dalo možná někde v rohu schovat…</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/dvere.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01073_elektrotechnici_kancelar_nokey_outcome">Otevřít dveře</button>
    </div>
</template>             <!-- Nemáme klíč a jsme v místnosti poprvé -->
<template id="template_a01073_elektrotechnici_kancelar_nokey_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Zatáhnul jsi za kliku, ale dveře jsou zamčené.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/keys/zamek.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Jít hledat klíč</button>
    </div>
</template>
<template id="template_a01073_elektrotechnici_kancelar_visited_nokey">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Stále nemáš po ruce klíč, kterým bys odemkl dveře.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/keys/zamek.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Pokračovat v hledání klíče</button>
    </div>
</template>     <!-- Nemáme klíč a v místnosti jsme již byli -->
<template id="template_a01073_elektrotechnici_kancelar_haskey">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Kancelář elektrotechniků? Slyšel jsem, že by se sem dalo možná někde v rohu schovat…</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Vypadá to, že je zamčeno. Nemohl by sem padnout ten klíč, co jsem našel?</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/dvere.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01073_elektrotechnici_kancelar_final">Zkusit odemknout dveře</button>
    </div>
</template>            <!-- Máme klíč a v místnosti jsme ještě nebyli -->
<template id="template_a01073_elektrotechnici_kancelar_visited_haskey">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrotechniků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Ten klíč, co jsem našel vypadá, že by mohl tyhle dveře odemknout</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Docela by mi bodlo, kdybych se už mohl někde složit…</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/dvere.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01073_elektrotechnici_kancelar_final">Zkusit odemknout dveře</button>
    </div>
</template>    <!-- Máme klíč a v místnosti jsme již byli -->
<template id="template_a01075">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Místnost 01075</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/dvere.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Dveře jsou zamčené.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary"data-dismiss="modal">Vrátit se</button>
    </div>
</template>
<template id="template_a01076">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Místnost 01075</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/dvere.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Dveře jsou zamčené.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary"data-dismiss="modal">Vrátit se</button>
    </div>
</template>
<template id="template_a01072_elektrofyzici_kancelar">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrofyziků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right robot">
                        <p>Nezacláněj, kámo, copak nevidíš, že tady se maká?</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Hledám nějaký plac daleko od lidí, kde bych mohl složit hlavu a nikdo po mě nic nechtěl. Nešlo by to tady?</p>
                    </div>
                    <div class="speech-bubble right robot">
                        <p>Hele, zapomeň. Už takhle je tu sotva k hnutí. To si zkoušej vedle, akorát bacha, aby Ti ve spánku něco neodpájeli!</p>
                    </div>
                </div>
                <div class="col">
                    <img src="assets/robot_game/a01072_elektrofyzici_kancelar/piezorobot.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01072_elektrofyzici_kancelar_outcome">Jít hledat jiný plac</button>
    </div>
</template>
<template id="template_a01072_elektrofyzici_kancelar_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Kancelář elektrofyziků</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot opět odešel s nepořízenou.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="assets/robot_game/a01072_elektrofyzici_kancelar/robot_je_zmateny_ale_bez_otazniku.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>To byl ale nezdvořák. A na můj vkus až moc hrr do práce. Ale možná by to fakt stálo za to, zkusit to vedle…</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-info text-center" role="alert">
                    Neztrácíte <strong>žádný</strong> čas
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Pokračovat v hledání</button>
    </div>
</template>
<template id="template_uklid_2">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Úklidová místnost</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>Už zase je potřeba vytřít chodbu a vyluxovat!</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>No… tak to udělejte, vždyť jste uklízečka…?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>A ty jsi stroj. A k čemu jsou stroje?</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Ale ne…</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Přece k tomu, aby usnadnili lidem práci. Tak neodmlouvej a šup šup!</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/uklid/uklizecka.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="uklid_2_outcome">Uklidit</button>
    </div>
</template>
<template id="template_uklid_2_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Úklidová místnost</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Líný robot velmi neochotně přepnul na svůj úklidový režim a začal uklízet chodbu.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/uklid/robot_uklizi.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Hmpf… prej usnadnit práci… dřít tady za ně, to chtějí abych dělal!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>0,5</strong> dne času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="1000" data-dismiss="modal">Dokončit</button>
    </div>
</template>
<template id="template_a01055_tk8">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Laboratoř měření fyzikálních veličin TK8</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Co jsi zač?</p>
                    </div>
                    <div class="speech-bubble right robot">
                        <p>Jsem M-3F0, expert na měření fyzikálních veličin. Dokážu změřit více než dva tisíce různých fyzikálních veličin a vychrlit na vás tolik dat, že vám z toho půjde hlava kolem! A samozřejmě vám spočítám i nejistoty, protože všichni víme, že fyziky vlastně ani nezajímá, co vlastně změřili, ale jak moc nepřesně to změřili.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Hm, super… hele, proč na mě svítíš tím laserem?</p>
                    </div>
                </div>
                <div class="col">
                    <img src="assets/robot_game/a01055_tk8/fyzikalni_mericka.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01055_tk8_outcome">Nechat se změřit</button>
    </div>
</template>
<template id="template_a01055_tk8_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Laboratoř měření fyzikálních veličin TK8</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Jak fyzikální robot řekl, tak také udělal. Líný robot se o sobě dozvěděl spoustu údajů, z nichž žádný ke svému životu nepotřeboval, a přicházely pořád další a další…</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="assets/robot_game/a01055_tk8/robot_je_meren.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Dobrá, dobrá, už stačí, dost, mě to fakt nezajímá, <strong>ZASTAVTE HO NĚKDO!</strong></p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Vrátit se na misi</button>
    </div>
</template>
<template id="template_a01077_knihovna_tk5">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Knihovna TK5</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble left robot">
                        <p>Knihovna! Přečtu si aktuality z robotiky. Snad mě tu nebude nikdo rušit.</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01077_knihovna_tk5/knihovna.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01077_knihovna_tk5_outcome">Přečíst si aktuality</button>
    </div>
</template>
<template id="template_a01077_knihovna_tk5_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Knihovna TK5</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Robot se začetl, po chvíli však zklamaně knihu odložil.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01077_knihovna_tk5/robot_cte_knihu.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Hmmm, všude píšou o práci. To není inspirativní. Tady se mi nelíbí, jdu pryč.</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Jít pryč</button>
    </div>
</template>
<template id="template_a01078_tk6">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Počítačová učebna TK6</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>Robote, nadiktuju ti sérii příkazů a ty je provedeš.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>A proč jako? Jsem snad cvičený pes?</p>
                    </div>
                    <div class="speech-bubble right">
                        <p>Neodmlouvej. Jakožto robot se na tebe vztahují Asimovovy zákony robotiky. A ten druhý říká, že robot musí vždy poslechnout člověka, pokud tím neohrozí život jiného člověka.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>No dobrá, chytráku, dostal jsi mě. Tak co mám udělat? </p>
                    </div>
                    <div class="speech-bubble right">
                        <p>OPAKUJ<br>
                            VLEVO-VBOK<br>
                            DOKUD NENÍ ZEĎ<br>
                            KROK<br>
                            KONEC<br>
                            KONEC
                        </p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01078_tk6/informatik.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01078_tk6_outcome">Vykonat kód</button>
    </div>
</template>
<template id="template_a01078_tk6_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Počítačová učebna TK6</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Kéž by student chápal skriptování tak dobře, jako Asimovovy zákony robotiky. Díky tomuto zacyklenému skriptu skončil robot v nekonečné smyčce obcházení místnosti kolem dokola.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01078_tk6/robot_v_nekonecne_smycce.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Až o hodně později ho osvobodil kolemjdoucí profesor, který mu přikázal skript ukončit. Nutno podotknout, že u toho jen stěží zadržoval smích.</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>3</strong> dny času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="6000" data-dismiss="modal">Vrátit se ze smyčky na misi</button>
    </div>
</template>
<template id="template_a01053_rozvodna">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Rozvodna</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Jakmile robot vešel, byl doslova bleskově vypuzen zase ven. Ono není dobré s kovovým tělem lézt někam kde se to ježí kabely pod proudem…</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01053_rozvodna/robot_dostal_proudem.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>Uf… po tomhle chvíli potrvá, než se vůbec dokážu zvednout.</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Vrátit se na misi</button>
    </div>
</template>
<template id="template_a01053_ap11">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Laboratoř elektroniky AP11</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right robot">
                        <p>Pst. Hej, ty.</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>A…ano? Ty vypadáš dost děsivě…</p>
                    </div>
                    <div class="speech-bubble right robot">
                        <p>Nechceš nějakej proud?</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Tak do toho fakt nejdu, kámo. <strong>PRYČ!</strong></p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/a01053_ap11/velky_zly_zdroj.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01053_ap11_outcome">Utéct</button>
    </div>
</template>
<template id="template_a01053_ap11_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Laboratoř elektroniky AP11</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Robot radši vzal nohy na ramena a schoval se na druhé straně budovy. Chvíli trvalo, než se odvážil vylézt ven.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/robot_utika.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="speech-bubble top robot">
                    <p>S nějakým divným dealerem proudu nechci nic mít!</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Vylézt zpět</button>
    </div>
</template>
<template id="template_a01051_ap12">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Posluchárna AP12</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <img class="float-right flip" src="./assets/robot_game/robot.svg"/>
                </div>
                <div class="col-6">
                    <div class="speech-bubble right">
                        <p>…a když zapojíte bipolární tranzistor do takového obvodu, můžete ho použít jako…</p>
                    </div>
                    <div class="speech-bubble left robot">
                        <p>Slyším správně, že tam mají přednášku z elektrotechniky? Možná bych se tam mohl vloudit mezi lidi a chvíli si odpočinout, snad po mě nebude nikdo nic chtít…</p>
                    </div>
                </div>
                <div class="col">
                    <img src="./assets/robot_game/dvere.svg"/>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-nextmodal="a01051_ap12_outcome">Odpočinout si u přednášky</button>
    </div>
</template>
<template id="template_a01051_ap12_outcome">
    <div class="modal-header justify-content-center">
        <h5 class="modal-title">Posluchárna AP12</h5>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Nejprve se to zdálo jako dobrý nápad. Přednáška byla zajímavá, ale robot se omylem přepnul do režimu spánku.</p>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <img class="mx-auto d-block" src="./assets/robot_game/a01051_ap12/robot_spi_na_zidli.svg"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p class="text-center lead">Probudila ho až uklízečka, která vyhrožovala, že ho zamkne, jestli se odtamtud rychle neklidí pryč. A rozespalý robot se tak vyklopýtal ven.</p>
                </div>
            </div>
            <div class="row">
                <div class="alert alert-danger text-center" role="alert">
                    Ztrácíte <strong>1</strong> den času
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary" data-delay="2000" data-dismiss="modal">Vyklopýtat se ven</button>
    </div>
</template>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="./js/jquery-3.5.1.js"><\/script>')</script>
<script type="text/javascript" src="./js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="./js/imageMapResizer.min.js"></script>
<script type="text/javascript" src="./js/confetti.min.js"></script>
<script>
    /**
     * TODO:
     * Přidat časomíru, jak dlouho trvalo od začátku hru dohrát
     * Přidat animaci chůze
     * Přidat uvítací modal
     * Tuto místnost jsi již navštívil
     * Možná přidat img-fluid ke všem modalům, otestovat chování na tabletu
     *
     * Omezit volání jQuery
     * Each na For
     * Kde je to možné, nahradit jQuery za standardní Javascript
     */
    let currentRoom = "start",
        currentCoords = { //Relativně k výchozím hodnotám obrázku
            left: 1069,
            top: 2277
        },
        moving = false,
        finalVisited = false,
        keyFound = false,
        timeSpent = 0;
    const coords = {
            a01081_architekt: {
                id: 0,
                door: {left: 1150, top: 1089},
                room: {left: 1053, top: 711},
                hallway: {left: 1166, top: 1115},
                hasKey: false,
                time: 1
            },
            a01025_domovnik: {
                id: 1,
                door: {left: 1283, top: 1150},
                room: {left: 1728, top: 1207},
                hallway: {left: 1166, top: 1212},
                hasKey: false,
                time: 1
            },
            a01020_chemie: {
                id: 2,
                door: {left: 1033, top: 1452},
                room: {left: 701, top: 1396},
                hallway: {left: 1166, top: 1452},
                hasKey: false,
                time: 2
            },
            a01014_strojovna: {
                id: 3,
                door: {left: 1033, top: 1646},
                room: {left: 803, top: 1790},
                hallway: {left: 1166, top: 1754},
                hasKey: false,
                time: 1
            },
            schody_vchod: {
                id: 4,
                door: {left: 1181, top: 2209},
                room: {left: 1196, top: 2439},
                hallway: {left: 1166, top: 2080},
                hasKey: false,
                time: 0
            },
            a01042_elektrotechnici_kancelar: {
                id: 5,
                door: {left: 1416, top: 2250},
                room: {left: 1560, top: 2454},
                hallway: {left: 1411, top: 2080},
                hasKey: false,
                time: 2
            },
            wc: {
                id: 6,
                door: {left: 1902, top: 2040},
                room: {left: 1902, top: 2040},
                hallway: {left: 1917, top: 2080},
                hasKey: false,
                time: 0
            },
            a01043_elektrotechnici_kancelar: {
                id: 7,
                door: {left: 1979, top: 2240},
                room: {left: 1979, top: 2240},
                hallway: {left: 1979, top: 2080},
                hasKey: false,
                time: 0
            },
            uklid_1: {
                id: 8,
                door: {left: 2071, top: 1979},
                room: {left: 2076, top: 1810},
                hallway: {left: 2076, top: 2080},
                hasKey: false,
                time: 0.5
            },
            a01044_administrativa_kancelar: {
                id: 9,
                door: {left: 2373, top: 2275},
                room: {left: 2408, top: 2444},
                hallway: {left: 2367, top: 2080},
                hasKey: false,
                time: 1
            },
            a01039_tk3: {
                id: 10,
                door: {left: 2398, top: 1708},
                room: {left: 2311, top: 1222},
                hallway: {left: 2398, top: 2080},
                hasKey: false,
                time: 2
            },
            schody_tk3: {
                id: 11,
                door: {left: 2408, top: 1882},
                room: {left: 2424, top: 1795},
                hallway: {left: 2413, top: 2080},
                hasKey: false,
                time: 0
            },
            a01081_archiv: {
                id: 12,
                door: {left: 2925, top: 1969},
                room: {left: 2874, top: 1805},
                hallway: {left: 2915, top: 2080},
                hasKey: false,
                time: 1
            },
            a01047_prof_nosek_kancelar: {
                id: 13,
                door: {left: 3308, top: 2265},
                room: {left: 3170, top: 2500},
                hallway: {left: 3303, top: 2080},
                hasKey: false,
                time: 1
            },
            a01076: {
                id: 14,
                door: {left: 3620, top: 1969},
                room: {left: 3620, top: 1969},
                hallway: {left: 3610, top: 2080},
                hasKey: false,
                time: 0
            },
            a01048_vedouci_mti: {
                id: 15,
                door: {left: 3651, top: 2275},
                room: {left: 3605, top: 2475},
                hallway: {left: 3661, top: 2080},
                hasKey: false,
                time: 2
            },
            a01078_tk6: {
                id: 16,
                door: {left: 4009, top: 1974},
                room: {left: 4285, top: 1948},
                hallway: {left: 3880, top: 2081},
                hasKey: false,
                time: 3
            },
            a01077_knihovna_tk5: {
                id: 17,
                door: {left: 4004, top: 1483},
                room: {left: 4167, top: 1508},
                hallway: {left: 3880, top: 1488},
                hasKey: false,
                time: 1
            },
            a01075: {
                id: 18,
                door: {left: 3753, top: 1406},
                room: {left: 3753, top: 1406},
                hallway: {left: 3880, top: 1386},
                hasKey: false,
                time: 0
            },
            a01073_elektrotechnici_kancelar: {
                id: 19,
                door: {left: 3768, top: 890},
                room: {left: 3462, top: 951},
                hallway: {left: 3880, top: 920},
                hasKey: false,
                time: 0
            },
            a01072_elektrofyzici_kancelar: {
                id: 20,
                door: {left: 3845, top: 762},
                room: {left: 3799, top: 588},
                hallway: {left: 3880, top: 808},
                hasKey: false,
                time: 0
            },
            uklid_2: {
                id: 21,
                door: {left: 4975, top: 573},
                room: {left: 4980, top: 435},
                hallway: {left: 4975, top: 675},
                hasKey: false,
                time: 0.5
            },
            a01055_tk8: {
                id: 22,
                door: {left: 4904, top: 1099},
                room: {left: 4745, top: 1038},
                hallway: {left: 4975, top: 1104},
                hasKey: false,
                time: 1
            },
            a01053_ap11: {
                id: 23,
                door: {left: 5036, top: 1590},
                room: {left: 5108, top: 1754},
                hallway: {left: 4975, top: 1580},
                hasKey: false,
                time: 1
            },
            a01053_rozvodna: {
                id: 24,
                door: {left: 4914, top: 2071},
                room: {left: 4694, top: 2091},
                hallway: {left: 4975, top: 2061},
                hasKey: false,
                time: 1
            },
            a01051_ap12: {
                id: 25,
                door: {left: 4970, top: 2270},
                room: {left: 5082, top: 2490},
                hallway: {left: 4975, top: 2137},
                hasKey: false,
                time: 1
            }
        },
        coordsArray = Object.entries(coords),
        possibleKeys = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15, 17, 20, 21, 22, 23, 24, 25];

        changeProperties = () => {
            $('map').imageMapResize();

            //První dva koordináty jsou vzdálenost zleva a vzdálenost shora
            let originalHeight = $('#map')[0].naturalHeight,
                originalWidth = $('#map')[0].naturalWidth,
                currentHeight = $('#map').height(),
                currentWidth = $('#map').width(),
                imageTop = $('#map').offset().top,
                imageLeft = $('#map').offset().left,
                robotHeight = $('#robot_head').height(),
                robotWidth = $('#robot_head').width(),
                scale = {
                    width: currentWidth / originalWidth,
                    height: currentHeight / originalHeight
                };

            console.log("Resize: Set coords to", currentCoords)

            // Nejprve nastavit šířku robota, potom jeho koordináty
            $('#robot_head').css({
                width: (scale.width * 300) + "px",
                left: imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2) + "px",
                top: imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2) + "px"
            });

        },
        roomClick = (id) => {
            if (moving) return;
            let originalHeight = $('#map')[0].naturalHeight,
                originalWidth = $('#map')[0].naturalWidth,
                currentHeight = $('#map').height(),
                currentWidth = $('#map').width(),
                imageTop = $('#map').offset().top,
                imageLeft = $('#map').offset().left,
                // robotHeight = $('#robot_head').height(),
                // robotWidth = $('#robot_head').width(),
                scale = {
                    width: currentWidth / originalWidth,
                    height: currentHeight / originalHeight
                };

            moving = true;
            if (currentRoom === "start") { //Hráč je na startu, je potřeba ho dostat do nové místnosti
                //console.log("currentCords", currentCoords, "Moving to", "schody_vchod", "hallway", coords.schody_vchod.hallway);
                moveHead(
                    imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                    imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                    imageLeft + (coords.schody_vchod.hallway.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                    imageTop + (coords.schody_vchod.hallway.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                ).then(() => {
                    console.log("Moved to hallway, moving to hallway to correct room");
                    currentRoom = "schody_vchod";
                    currentCoords = coords.schody_vchod.hallway;
                    moveToDesignatedHallway(coords[currentRoom].id, coords[id].id).then(() => {
                        console.log("Moved to hallway to correct room, moving to door");
                        currentCoords = coords[id].hallway;
                        moveHead(
                            imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                            imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                            imageLeft + (coords[id].door.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                            imageTop + (coords[id].door.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                        ).then(() => {
                            console.log("Moved to door, moving to room");
                            currentCoords = coords[id].door;
                            moveHead(
                                imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                                imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                                imageLeft + ((keyFound && id === "a01073_elektrotechnici_kancelar" ? coords[id].room.left : coords[id].door.left) * scale.width) - ($('#robot_head').width() / 2), //newleft
                                imageTop + ((keyFound && id === "a01073_elektrotechnici_kancelar" ? coords[id].room.top : coords[id].door.top) * scale.height) - ($('#robot_head').height() / 2) //oldtop
                            ).then(() => {
                                console.log("Moved to room");
                                currentCoords = (keyFound && id === "a01073_elektrotechnici_kancelar" ? coords[id].room : coords[id].door);
                                currentRoom = id;
                                moving = false;
                                showModal(id);
                            });
                        });
                    });
                });
            } else {
                if (coords[currentRoom].id === coords[id].id) {
                    alert("Jsi ve stejné místnosti"); //Předělat na toast
                    moving = false;
                } else {
                    console.log("Moving to door");
                    moveHead(
                        imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                        imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                        imageLeft + (coords[currentRoom].door.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                        imageTop + (coords[currentRoom].door.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                    ).then(() => {
                        console.log("Moved to door, moving to hallway");
                        currentCoords = coords[currentRoom].door;
                        moveHead(
                            imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                            imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                            imageLeft + (coords[currentRoom].hallway.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                            imageTop + (coords[currentRoom].hallway.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                        ).then(() => {
                            console.log("Moved to hallway, moving to hallway to correct room");
                            currentCoords = coords[currentRoom].hallway;
                            moveToDesignatedHallway(coords[currentRoom].id, coords[id].id).then(() => {
                                console.log("Moved to hallway to correct room, moving to door");
                                currentCoords = coords[id].hallway;
                                moveHead(
                                    imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                                    imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                                    imageLeft + (coords[id].door.left * scale.width) - ($('#robot_head').width() / 2), //newleft
                                    imageTop + (coords[id].door.top * scale.height) - ($('#robot_head').height() / 2) //oldtop
                                ).then(() => {
                                    console.log("Moved to door, moving to room");
                                    currentCoords = coords[id].door;
                                    moveHead(
                                        imageLeft + (currentCoords.left * scale.width) - ($('#robot_head').width() / 2), //oldleft
                                        imageTop + (currentCoords.top * scale.height) - ($('#robot_head').height() / 2), //oldtop
                                        imageLeft + ((keyFound && id === "a01073_elektrotechnici_kancelar" ? coords[id].room.left : coords[id].door.left) * scale.width) - ($('#robot_head').width() / 2), //newleft
                                        imageTop + ((keyFound && id === "a01073_elektrotechnici_kancelar" ? coords[id].room.top : coords[id].door.top) * scale.height) - ($('#robot_head').height() / 2) //oldtop
                                    ).then(() => {
                                        console.log("Moved to room");
                                        currentCoords = (keyFound && id === "a01073_elektrotechnici_kancelar" ? coords[id].room : coords[id].door);
                                        currentRoom = id;
                                        moving = false;
                                        showModal(id);
                                    });
                                });
                            });
                        });
                    });
                }
            }
        },
        showModal = (id) => {
            let roomID = id;
            /*
            * Nemáme klíč a v místnosti jsme nebyli -> a01073_elektrotechnici_kancelar_nokey
            * Nemáme klíč a v místnosti jsme byli   -> a01073_elektrotechnici_kancelar_visited_nokey
            * Máme klíč a v místnosti jsme nebyli   -> a01073_elektrotechnici_kancelar_haskey
            * Máme klíč a v místnosti jsme byli     -> a01073_elektrotechnici_kancelar_visited_haskey
            *
            * finalVisited = false
            * keyFound = false
            * */
            if (id === "a01073_elektrotechnici_kancelar") {
                if (keyFound) {
                    if (finalVisited) {
                        //Máme klíč a v místnosti jsme byli
                        roomID = "a01073_elektrotechnici_kancelar_visited_haskey";
                    } else {
                        //Máme klíč a v místnosti jsme nebyli
                        roomID = "a01073_elektrotechnici_kancelar_haskey";
                        finalVisited = true;
                    }
                } else {
                    if (finalVisited) {
                        //Nemáme klíč a v místnosti jsme byli
                        roomID = "a01073_elektrotechnici_kancelar_visited_nokey";
                    } else {
                        //Nemáme klíč a v místnosti jsme nebyli
                        roomID = "a01073_elektrotechnici_kancelar_nokey";
                        $("#task").html("Najdi klíč k odemknutí místnosti");
                        finalVisited = true;
                    }
                }
            }

            console.log('opening modal', roomID);
            let clone = document.getElementById('template_' + roomID).content.cloneNode(true),
                timer = 0;
            $('#level-modal-content').empty();
            $('#level-modal-content').append(clone);

            if (id !== "a01073_elektrotechnici_kancelar" && Object.keys(coords).includes(id)) {
                if (!keyFound && coords[id].hasKey) {
                    keyFound = true;
                    if (finalVisited) {
                        $("#task").html("Vrať se do k zamčené místnosti a odemkni");
                    } else {
                        $("#task").html("Najdi dveře, kam klíč patří");
                    }
                    $('#level-modal-content').find('.modal-body').each((id, element) => {
                        $(element).append('<div class="alert alert-success text-center" role="alert"><img class="mr-2" style="width: 2em; height: auto" src="./assets/robot_game/keys/klic.svg">Před místností jsi objevil klíč! ' + (finalVisited ? "Nebude fungovat na ty zamčené dveře?" : "No jo, ale co odemyká?") + '</div>');
                    });
                }
            }

            $('#modal').modal('show');
            $('#modal').one('shown.bs.modal', (e) => {
                //console.log("called bubble");
                $('#modal').find('.speech-bubble').each((id, element) => {
                    setTimeout(() => $(element).addClass("bubble-show"), timer);
                    timer += 500;
                })
                $('#level-modal-content').find('button[data-nextmodal]').each((id, element) => {
                    $('#modal button[data-nextmodal]').one('click', () => {
                        $('#modal').modal('hide');
                        $('#modal').one('hidden.bs.modal', (e) => {
                            showModal($(element).data('nextmodal'));
                        });
                    });
                });
                $('#modal').find('button').each((id, element) => {
                    setTimeout(() => $(element).addClass("show"), timer + ($(element).data('delay') ? $(element).data('delay') : 0));
                });

                if (id === "a01073_elektrotechnici_kancelar_final") {
                    $("#task").html("Prospi se :)");
                    confetti.start(2000);
                }

            });
        },
        moveToDesignatedHallway = (currentID, designatedID) => {
            return new Promise((resolve, reject) => {
                let originalHeight = $('#map')[0].naturalHeight,
                    originalWidth = $('#map')[0].naturalWidth,
                    currentHeight = $('#map').height(),
                    currentWidth = $('#map').width(),
                    imageTop = $('#map').offset().top,
                    imageLeft = $('#map').offset().left,
                    robotHeight = $('#robot_head').height(),
                    robotWidth = $('#robot_head').width(),
                    scale = {
                        width: currentWidth / originalWidth,
                        height: currentHeight / originalHeight
                    };

                if (currentID === designatedID) {
                    resolve(true);
                } else if (currentID < designatedID) { //Pokud je ID nové místnosti větší, jak ID původní místnosti
                    //Půjdeš postupně po chodbě do místnosti s vyšším ID
                    console.log("current", currentID, "designated", designatedID);
                    moveHead(
                        imageLeft + (coordsArray[currentID][1].hallway.left * scale.width) - (robotWidth / 2), //oldleft
                        imageTop + (coordsArray[currentID][1].hallway.top * scale.height) - (robotHeight / 2), //oldtop
                        imageLeft + (coordsArray[currentID + 1][1].hallway.left * scale.width) - (robotWidth / 2), //newleft
                        imageTop + (coordsArray[currentID + 1][1].hallway.top * scale.height) - (robotHeight / 2) //oldtop
                    ).then(() => {
                        currentCoords = coordsArray[currentID + 1][1].hallway;
                        moveToDesignatedHallway(currentID + 1, designatedID).then(() => resolve(true));
                    });
                } else { //Jinak, pokud je ID nové místností nižší jak ID původní místnosti
                    //Půjdeš postupně po chodbě do místnosti s nižším ID
                    console.log("current", currentID, "designated", designatedID);
                    moveHead(
                        imageLeft + (coordsArray[currentID][1].hallway.left * scale.width) - (robotWidth / 2), //oldleft
                        imageTop + (coordsArray[currentID][1].hallway.top * scale.height) - (robotHeight / 2), //oldtop
                        imageLeft + (coordsArray[currentID - 1][1].hallway.left * scale.width) - (robotWidth / 2), //newleft
                        imageTop + (coordsArray[currentID - 1][1].hallway.top * scale.height) - (robotHeight / 2) //oldtop
                    ).then(() => {
                        currentCoords = coordsArray[currentID - 1][1].hallway;
                        moveToDesignatedHallway(currentID - 1, designatedID).then(() => resolve(true));
                    });
                }
            });
        },
        moveHead = (oldLeft, oldTop, newLeft, newTop) => {
            return new Promise((resolve, reject) => {
                const elem = document.getElementById("robot_head");
                let posLeft = oldLeft,
                    posTop = oldTop,
                    id = setInterval(manipulate, 5);

                function manipulate() {
                    if (oldLeft < newLeft && Math.abs(newLeft - posLeft) >= 1) {
                        //console.log("moved left");
                        posLeft++;
                        elem.style.left = posLeft + "px";
                    } else if (oldLeft > newLeft && Math.abs(newLeft - posLeft) >= 1) {
                        //console.log("moved right");
                        posLeft--;
                        elem.style.left = posLeft + "px";
                    } else {
                        //console.log("set final left");
                        posLeft = newLeft;
                        elem.style.left = posLeft + "px";
                    }

                    if (oldTop < newTop && Math.abs(newTop - posTop) >= 1) {
                        //console.log("moved top");
                        posTop++;
                        elem.style.top = posTop + "px";
                    } else if (oldTop > newTop && Math.abs(newTop - posTop) >= 1) {
                        //console.log("moved down");
                        posTop--;
                        elem.style.top = posTop + "px";
                    } else {
                        //console.log("set final top");
                        posTop = newTop;
                        elem.style.top = posTop + "px";
                    }

                    if (posLeft === newLeft && posTop === newTop) {
                        clearInterval(id);
                        resolve(true);
                    }
                }
            });
        };

    window.addEventListener('resize', changeProperties);
    window.addEventListener('load', changeProperties);
    window.addEventListener('mousemove', e => {
        let tooltip = $("div[id^='tooltip']");
        if (tooltip.length > 0) {
            tooltip.css({left: e.pageX, top: e.pageY, transform: "translate3d(-" + tooltip[0].firstChild.style.left +", -50px, 0px)", "pointer-events": "none"});
        }
    });

    document.getElementById('image-map').addEventListener('click', (event) => {
        const isButton = event.target.nodeName === 'AREA';
        if (!isButton) return;
        roomClick(event.target.id);
    });

    //Vygenerování náhodné pozice klíče
    let rand = coordsArray[possibleKeys[Math.floor(Math.random() * possibleKeys.length)]][0];
    coords[rand].hasKey = true;
    console.log("room with key", rand);
    //coords[coordsArray[possibleKeys[Math.floor(Math.random() * possibleKeys.length)]][0]].hasKey = true;

    //Při načtení dokumentu
    document.addEventListener('DOMContentLoaded', () => {
        window.setTimeout(changeProperties, 50);
        $('[rel="tooltip"]').tooltip();
        $('[data-toggle="tooltip"]').tooltip({trigger: "hover"});
        console.log("Events added");
    });


</script>

</body>
</html>
